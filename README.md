# momentic-backend
Backend of the "Momentic" mobile application - social network, a mixture of TikTok and BeReal.

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
**Momentic Backend** ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å —Å–æ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.  
–ó–∞–¥–∞—á–∏ backend:
- REST API –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ä–æ–ª—è–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏.
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∏–¥–µ–æ.
- –†–µ–∞–∫—Ü–∏–∏ (—ç–º–æ–¥–∑–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏).
- –†–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (JWT).
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è.

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- –Ø–∑—ã–∫: **Go (golang 1.21+)**
- –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫: **Gin Router**
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: **PostgreSQL**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è: **Docker**
- CLI / —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API: **curl**
- CDN –∏ –∑–∞—â–∏—Ç–∞: **Cloudflare**
- –ú–∏–≥—Ä–∞—Ü–∏–∏: **go-migrate**
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: **JWT / OAuth2**

## üë• –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

- **–ì–æ—Å—Ç—å**
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è / –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**
  - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –ø—É–±–ª–∏–∫—É–µ—Ç –≤–∏–¥–µ–æ.
  - –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –ª–µ–Ω—Ç—ã (–¥—Ä—É–∑–µ–π –∏ –≥–ª–æ–±–∞–ª—å–Ω—É—é).
  - –°—Ç–∞–≤–∏—Ç —Ä–µ–∞–∫—Ü–∏–∏ –∏ –ø–∏—à–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.
  - –£—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ.
- **–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä**
  - –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∂–∞–ª–æ–±—ã.
  - –£–¥–∞–ª—è–µ—Ç –≤–∏–¥–µ–æ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.
  - –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä**
  - –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏.
  - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.

### –î–∏–∞–≥—Ä–∞–º–º–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
![Use Case Diagram](docs/images/usecase_diagram.png)

## ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
![ER Diagram](docs/images/er_diagram.png)

## –°—Å—ã–ª–∫–∞ –Ω–∞ API —Å–µ—Ä–≤–µ—Ä–∞
- –ë–∞–∑–æ–≤—ã–π URL API: https://api.momentic.app/v1  
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (OpenAPI/Swagger): https://api.momentic.app/docs

**–ö–ª—é—á–µ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–ø—Ä–∏–º–µ—Ä):**
- `POST https://api.momentic.app/v1/auth/login` ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Å—Ç—É–¥. –ø–æ—á—Ç–∞)
- `GET  https://api.momentic.app/v1/feed/global` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ª–µ–Ω—Ç–∞
- `GET  https://api.momentic.app/v1/feed/friends` ‚Äî –ª–µ–Ω—Ç–∞ –¥—Ä—É–∑–µ–π
- `POST https://api.momentic.app/v1/videos` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ
- `POST https://api.momentic.app/v1/reactions` ‚Äî —Ä–µ–∞–∫—Ü–∏—è/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- `GET  https://api.momentic.app/v1/ranking` ‚Äî —Ä–µ–π—Ç–∏–Ω–≥
- `GET  https://api.momentic.app/v1/users/{id}` ‚Äî –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## Swagger API Documentation

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç Swagger (OpenAPI) —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è backend-—á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.  
–§–∞–π–ª —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏: `swaga.yaml`

Swagger –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è REST API, –ø–æ–∑–≤–æ–ª—è—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏.

### –ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ [https://editor.swagger.io/](https://editor.swagger.io/)
2. –ù–∞–∂–º–∏—Ç–µ **File ‚Üí Import file**
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `swaga.yaml` (docs/swaga.yaml)
4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ—è–≤–∏—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞.

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–µ—Ç–µ–≤–æ–º—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é:
- —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å cloudflared –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ–π `cloudflared tunnel --url http://localhost:8080` –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ç—É–Ω–Ω–µ–ª—è cloudflare. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã cloudflare –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ–º–µ–Ω, —Å –∫–æ—Ç–æ—Ä—ã–º –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ –º–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º –≤ —Å–µ—Ç—å Internet. –ó–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—É–¥—É—Ç –ø—Ä–µ–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º cloudflare, –∞ –ø–æ–∑–∂–µ –ø–µ—Ä–µ—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –ø–æ—Ä—Ç 8080 –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
